<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>General Knowledge Quiz</title>
<style>
  body {
    font-family: Arial, sans-serif;
    max-width: 700px;
    margin: 40px auto;
    background: #f9f9f9;
    padding: 20px;
    border-radius: 10px;
  }
  h1 {
    text-align: center;
  }
  .question {
    font-size: 1.2em;
    margin-bottom: 10px;
  }
  .options {
    list-style-type: none;
    padding-left: 0;
  }
  .options li {
    margin-bottom: 8px;
  }
  button {
    margin-top: 20px;
    padding: 10px 20px;
    font-size: 1em;
  }
  #score {
    font-size: 1.3em;
    margin-top: 20px;
    font-weight: bold;
    text-align: center;
  }
  .correct {
    color: green;
  }
  .incorrect {
    color: red;
  }
</style>
</head>
<body>

<h1>General Knowledge Quiz</h1>

<div id="quiz-container"></div>
<button id="submit-btn">Submit</button>

<div id="score"></div>

<script>
  const questionPool = [
    {
      question: "What is the capital of France?",
      options: ["Paris", "Berlin", "Rome", "Madrid"],
      answer: "Paris"
    },
    {
      question: "Who wrote 'Hamlet'?",
      options: ["Charles Dickens", "William Shakespeare", "Mark Twain", "Leo Tolstoy"],
      answer: "William Shakespeare"
    },
    {
      question: "What planet is known as the Red Planet?",
      options: ["Venus", "Saturn", "Mars", "Jupiter"],
      answer: "Mars"
    },
    {
      question: "Which element has the chemical symbol 'O'?",
      options: ["Gold", "Oxygen", "Silver", "Iron"],
      answer: "Oxygen"
    },
    {
      question: "Who painted the Mona Lisa?",
      options: ["Vincent Van Gogh", "Leonardo da Vinci", "Pablo Picasso", "Michelangelo"],
      answer: "Leonardo da Vinci"
    },
    {
      question: "In which year did the Titanic sink?",
      options: ["1912", "1905", "1923", "1898"],
      answer: "1912"
    },
    {
      question: "What is the largest mammal?",
      options: ["Elephant", "Blue Whale", "Giraffe", "Hippopotamus"],
      answer: "Blue Whale"
    },
    {
      question: "Which country hosted the 2016 Summer Olympics?",
      options: ["China", "Brazil", "UK", "Russia"],
      answer: "Brazil"
    },
    {
      question: "What is the smallest prime number?",
      options: ["0", "1", "2", "3"],
      answer: "2"
    },
    {
      question: "Who discovered penicillin?",
      options: ["Alexander Fleming", "Marie Curie", "Isaac Newton", "Albert Einstein"],
      answer: "Alexander Fleming"
    },
    {
      question: "Which ocean is the largest?",
      options: ["Atlantic", "Indian", "Pacific", "Arctic"],
      answer: "Pacific"
    },
    {
      question: "Which gas do plants absorb from the atmosphere?",
      options: ["Oxygen", "Nitrogen", "Carbon Dioxide", "Hydrogen"],
      answer: "Carbon Dioxide"
    },
    {
      question: "What currency is used in Japan?",
      options: ["Yen", "Won", "Dollar", "Euro"],
      answer: "Yen"
    }
  ];

  const quizContainer = document.getElementById("quiz-container");
  const submitBtn = document.getElementById("submit-btn");
  const scoreDisplay = document.getElementById("score");

  let selectedAnswers = {};
  let currentQuestions = [];

  function shuffle(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
    return array;
  }

  function loadQuiz() {
    selectedAnswers = {};
    scoreDisplay.innerHTML = "";
    submitBtn.disabled = false;

    currentQuestions = shuffle([...questionPool]).slice(0, 10);

    quizContainer.innerHTML = "";

    currentQuestions.forEach((q, index) => {
      const qDiv = document.createElement("div");
      qDiv.classList.add("question-block");

      const questionElem = document.createElement("div");
      questionElem.classList.add("question");
      questionElem.textContent = `${index + 1}. ${q.question}`;

      const optionsList = document.createElement("ul");
      optionsList.classList.add("options");

      q.options.forEach(option => {
        const optionItem = document.createElement("li");

        const optionLabel = document.createElement("label");
        optionLabel.style.cursor = "pointer";

        const optionRadio = document.createElement("input");
        optionRadio.type = "radio";
        optionRadio.name = "question" + index;
        optionRadio.value = option;

        optionRadio.addEventListener("change", (e) => {
          selectedAnswers[index] = e.target.value;
        });

        optionLabel.appendChild(optionRadio);
        optionLabel.appendChild(document.createTextNode(" " + option));
        optionItem.appendChild(optionLabel);
        optionsList.appendChild(optionItem);
      });

      qDiv.appendChild(questionElem);
      qDiv.appendChild(optionsList);
      quizContainer.appendChild(qDiv);
    });
  }

  function showScore() {
    let score = 0;
    for (let i = 0; i < currentQuestions.length; i++) {
      if (selectedAnswers[i] === currentQuestions[i].answer) {
        score++;
      }
    }

    scoreDisplay.innerHTML = `You scored ${score} out of ${currentQuestions.length}!`;

    submitBtn.disabled = true;

    const questionBlocks = document.querySelectorAll(".question-block");
    questionBlocks.forEach((block, idx) => {
      const options = block.querySelectorAll("input[type=radio]");
      options.forEach(option => {
        option.disabled = true;
        const parentLabel = option.parentElement;

        if (option.value === currentQuestions[idx].answer) {
          parentLabel.style.color = "green";
        }
        if (option.checked && option.value !== currentQuestions[idx].answer) {
          parentLabel.style.color = "red";
        }
      });
    });
  }

  submitBtn.addEventListener("click", () => {
    // Removed required answers check, so user can submit anytime
    showScore();
  });

  loadQuiz();
</script>

</body>
</html>
